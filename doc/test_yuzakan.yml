---
config:
  title: テストサイト
  session_timeout: 3600
  password_min_size: 8
  password_max_size: 64
  password_min_types: 1
  password_min_score: 0
  password_unusable_chars: ''
  password_extra_dict: ''
  admin_networks: ''
  user_networks: ''
  contact_name: ''
  contact_email: ''
  contact_phone: ''
providers:
- name: posix_samba
  label: PosixとSamba
  adapter_name: samba_ldap
  order: 1
  immutable: false
  readable: true
  writable: true
  authenticatable: true
  password_changeable: true
  lockable: true
  individual_password: false
  self_management: false
  group: true
  params:
    host: localhost
    port: 0
    protocol: ldap
    certificate_check: false
    base_dn: dc=example,dc=jp
    bind_username: cn=admin,dc=example,dc=jp
    bind_password: admin_password
    user_name_attr: uid
    user_display_name_attr: displayName;lang-ja
    user_email_attr: mail
    user_search_base_dn: ou=people,dc=example,dc=jp
    user_search_scope: sub
    user_search_filter: "(objectclass=*)"
    group_name_attr: cn
    group_name_suffix: 
    group_display_name_attr: description
    group_search_base_dn: ou=groups,dc=example,dc=jp
    group_search_scope: sub
    group_search_filter: "(objectclass=posixGroup)"
    password_scheme: "{CRYPT}"
    crypt_salt_format: "$6$%.16s"
    user_esarch_filter: "(objectClass=sambaSamAccount)"
    samba_domain_sid: S-1-5-21-4294967295-4294967295-4294967295
    samba_nt_password: true
    samba_lm_password: false
    auth_nt_password: false
- name: ldap
  label: 普通のLDAP
  adapter_name: ldap
  order: 9
  immutable: false
  readable: true
  writable: true
  authenticatable: true
  password_changeable: true
  lockable: true
  individual_password: false
  self_management: false
  group: true
  params:
    host: localhost
    port: 
    protocol: ldap
    certificate_check: true
    base_dn: dc=example,dc=jp
    bind_username: cn=admin,dc=example,dc=jp
    bind_password: admin_password
    user_name_attr: cn
    user_display_name_attr: displayName;lang-ja
    user_email_attr: mail
    user_search_base_dn: ou=User,dc=example,dc=jp
    user_search_scope: sub
    user_search_filter: "(objectclass=*)"
    group_name_attr: cn
    group_name_suffix: 
    group_display_name_attr: description
    group_search_base_dn: ou=Group,dc=example,dc=jp
    group_search_scope: sub
    group_search_filter: "(objectclass=*)"
    password_scheme: "{SSHA512}"
    crypt_salt_format: "$6$%.16s"
attrs:
- name: ja_display_name
  label: 表示名(日本語)
  type: string
  order: 1
  hidden: false
  code: display_name
  attr_mappings:
  - provider:
      name: posix_samba
    name: displayName;lang-ja
    conversion: 
  - provider:
      name: ldap
    name: displayName;lang-ja
    conversion: 
- name: ja_family_name
  label: 姓(日本語)
  type: string
  order: 2
  hidden: false
  code: |-
    names = display_name.split(/\s/);
    return names[0];
  attr_mappings:
  - provider:
      name: posix_samba
    name: sn;lang-ja
    conversion: 
  - provider:
      name: ldap
    name: sn;lang-ja
    conversion: 
- name: ja_given_name
  label: 名(日本語)
  type: string
  order: 3
  hidden: false
  code: |-
    names = display_name.split(/\s/);
    return names[1];
  attr_mappings:
  - provider:
      name: posix_samba
    name: givenName;lang-ja
    conversion: 
  - provider:
      name: ldap
    name: givenName;lang-ja
    conversion: 
- name: display_name
  label: 表示名(ローマ字)
  type: string
  order: 4
  hidden: false
  code: ''
  attr_mappings:
  - provider:
      name: posix_samba
    name: displayName
    conversion: 
  - provider:
      name: ldap
    name: displayName
    conversion: 
- name: family_name
  label: 姓(ローマ字)
  type: string
  order: 5
  hidden: false
  code: |-
    names = attrs.display_name.split(/\s/);
    return names[0];
  attr_mappings:
  - provider:
      name: posix_samba
    name: sn
    conversion: 
  - provider:
      name: ldap
    name: sn
    conversion: 
- name: given_name
  label: 名(ローマ字)
  type: string
  order: 6
  hidden: false
  code: |-
    names = attrs.display_name.split(/\s/);
    return names[1];
  attr_mappings:
  - provider:
      name: posix_samba
    name: givenName
    conversion: 
  - provider:
      name: ldap
    name: givenName
    conversion: 
