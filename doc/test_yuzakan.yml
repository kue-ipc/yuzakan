---
config:
  title: テストサイト
  session_timeout: 3600
  password_min_size: 8
  password_max_size: 64
  password_min_types: 1
  password_min_score: 0
  password_unusable_chars: ''
  password_extra_dict: ''
  admin_networks: ''
  user_networks: ''
  contact_name: アカウント管理センター
  contact_email: admin@example.jp
  contact_phone: 00-0000-0000
providers:
- name: posix_samba
  label: PosixとSamba
  adapter_name: samba_ldap
  order: 8
  readable: true
  writable: true
  authenticatable: true
  password_changeable: true
  lockable: true
  individual_password: false
  self_management: false
  group: true
  params:
    host: localhost
    port: 0
    protocol: ldap
    certificate_check: false
    base_dn: dc=example,dc=jp
    bind_username: cn=admin,dc=example,dc=jp
    bind_password: admin_password
    user_name_attr: uid
    user_display_name_attr: displayName;lang-ja
    user_email_attr: mail
    user_search_base_dn: ou=people,dc=example,dc=jp
    user_search_scope: sub
    user_search_filter: "(objectclass=*)"
    group_name_attr: cn
    group_name_suffix: 
    group_display_name_attr: description
    group_search_base_dn: ou=groups,dc=example,dc=jp
    group_search_scope: sub
    group_search_filter: "(objectclass=posixGroup)"
    password_scheme: "{CRYPT}"
    crypt_salt_format: "$6$%.16s"
    create_user_dn_attr: cn
    create_user_ou_dn: ou=people,dc=example,dc=jp
    create_user_object_classes: account
    uid_min: 1000
    uid_max: 60000
    search_free_uid: next
    user_gid_nuber: 100
    samba_domain_sid: S-1-5-21-4294967295-4294967295-4294967295
    samba_nt_password: true
    samba_lm_password: false
    auth_nt_password: false
- name: ldap
  label: 普通のLDAP
  adapter_name: ldap
  order: 16
  readable: true
  writable: true
  authenticatable: true
  password_changeable: true
  lockable: true
  individual_password: false
  self_management: false
  group: true
  params:
    host: localhost
    port: 
    protocol: ldap
    certificate_check: true
    base_dn: dc=example,dc=jp
    bind_username: cn=admin,dc=example,dc=jp
    bind_password: admin_password
    user_name_attr: cn
    user_display_name_attr: displayName;lang-ja
    user_email_attr: mail
    user_search_base_dn: ou=User,dc=example,dc=jp
    user_search_scope: sub
    user_search_filter: "(objectclass=*)"
    group_name_attr: cn
    group_name_suffix: 
    group_display_name_attr: description
    group_search_base_dn: ou=Group,dc=example,dc=jp
    group_search_scope: sub
    group_search_filter: "(objectclass=*)"
    password_scheme: "{SSHA512}"
    crypt_salt_format: "$6$%.16s"
    create_user_dn_attr: cn
    create_user_ou_dn: ou=User,dc=example,dc=jp
    create_user_object_classes: inetOrgPerson,nsMemberOf
attrs:
- name: email
  label: メールアドレス
  type: string
  order: 8
  hidden: false
  readonly: false
  code: "`${username}@example.jp`"
  attr_mappings:
  - provider:
      name: local
    name: email
    conversion: 
  - provider:
      name: ldap
    name: mail
    conversion: 
- name: display_name
  label: 表示名(日本語)
  type: string
  order: 16
  hidden: false
  readonly: false
  code: 
  attr_mappings:
  - provider:
      name: ldap
    name: displayName;lang-ja
    conversion: 
  - provider:
      name: local
    name: display_name
    conversion: 
- name: family_name
  label: 姓(日本語)
  type: string
  order: 24
  hidden: false
  readonly: false
  code: attrs.display_name?.split(/\s/)?.at(0)
  attr_mappings:
  - provider:
      name: ldap
    name: sn;lang-ja
    conversion: 
- name: given_name
  label: 名(日本語)
  type: string
  order: 32
  hidden: false
  readonly: false
  code: attrs.display_name?.split(/\s/)?.at(1)
  attr_mappings:
  - provider:
      name: ldap
    name: givenName;lang-ja
    conversion: 
- name: display_name_latin
  label: 表示名(ローマ字)
  type: string
  order: 40
  hidden: false
  readonly: false
  code: ''
  attr_mappings:
  - provider:
      name: ldap
    name: displayName
    conversion: 
- name: family_name_latin
  label: 姓(ローマ字)
  type: string
  order: 48
  hidden: false
  readonly: false
  code: attrs.display_name_latin?.split(/\s/)?.at(0)
  attr_mappings:
  - provider:
      name: ldap
    name: sn
    conversion: 
- name: given_name_latin
  label: 名(ローマ字)
  type: string
  order: 56
  hidden: false
  readonly: false
  code: attrs.display_name_latin?.split(/\s/)?.at(1)
  attr_mappings:
  - provider:
      name: ldap
    name: givenName
    conversion: 
- name: uid
  label: ユーザーID
  type: integer
  order: 64
  hidden: false
  readonly: true
  code: ''
  attr_mappings:
  - provider:
      name: posix_samba
    name: uidNumber
    conversion: 
- name: cn
  label: キャラクター名
  type: string
  order: 72
  hidden: false
  readonly: false
  code: username
  attr_mappings:
  - provider:
      name: posix_samba
    name: cn
    conversion: 
  - provider:
      name: ldap
    name: cn
    conversion: 
- name: samba_sid
  label: Samba SID
  type: string
  order: 80
  hidden: false
  readonly: true
  code: ''
  attr_mappings:
  - provider:
      name: posix_samba
    name: sambaSID
    conversion: 
- name: home
  label: ホームディレクトリ
  type: string
  order: 88
  hidden: false
  readonly: false
  code: "`/home/${username}`"
  attr_mappings:
  - provider:
      name: posix_samba
    name: homeDirectory
    conversion: 
