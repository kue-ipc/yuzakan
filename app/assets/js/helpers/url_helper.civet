{basename} from ./file_helper.civet

export normalizeURL := (url: URL | string): URL ->
  return url if url <? URL

  new URL(url, globalThis.location.href)

// URLから最後の文字列を取り出す。
export getBasenameFromURL := (url: URL | string): string ->
  basename(normalizeURL(url).pathname)

export getQueryParamsFromURL := (url: URL | string): Map string, string ->
  new Map(new URLSearchParams(normalizeURL(url).search))
